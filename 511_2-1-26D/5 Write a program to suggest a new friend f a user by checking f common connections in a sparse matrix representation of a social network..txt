// Question 5:
// Write a program to suggest a new friend for a user by checking
// common connections in a sparse matrix representation of a social network.

#include <iostream>
using namespace std;

int main() {
    int users, nonZero;
    cin >> users >> nonZero;

    // Sparse matrix representation: row, column, value (1 = friends)
    int row[200], col[200], val[200];

    for (int i = 0; i < nonZero; i++) {
        cin >> row[i] >> col[i] >> val[i];
    }

    int user;
    cin >> user;

    int commonCount[100] = {0};
    bool isFriend[100] = {false};

    // Mark existing friends of the given user
    for (int i = 0; i < nonZero; i++) {
        if (row[i] == user && val[i] == 1) {
            isFriend[col[i]] = true;
        }
    }

    // Count common friends
    for (int i = 0; i < nonZero; i++) {
        if (row[i] == user && val[i] == 1) {
            int friendOfUser = col[i];
            for (int j = 0; j < nonZero; j++) {
                if (row[j] == friendOfUser && val[j] == 1) {
                    int candidate = col[j];
                    if (candidate != user && !isFriend[candidate]) {
                        commonCount[candidate]++;
                    }
                }
            }
        }
    }

    // Find user with maximum common connections
    int suggested = -1, maxCommon = 0;
    for (int i = 0; i < users; i++) {
        if (commonCount[i] > maxCommon) {
            maxCommon = commonCount[i];
            suggested = i;
        }
    }

    if (suggested != -1)
        cout << "Suggested Friend: " << suggested;
    else
        cout << "No Friend Suggestion";

    return 0;
}

/*
Explanation:
- The social network is stored using sparse matrix (row, column, value).
- Value 1 indicates friendship between users.
- Existing friends of the given user are marked.
- For each friend of the user, friends of that friend are checked.
- Common connections are counted for non-friends.
- The user with the maximum common connections is suggested as a new friend.
- If no suitable user is found, no suggestion is displayed.
*/
