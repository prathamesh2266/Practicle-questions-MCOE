// Question 9:
// Implement a program to add two polynomials represented using arrays
// and display the resultant polynomial.

#include <iostream>
using namespace std;

struct Term {
    int coeff;
    int power;
};

int main() {
    int n1, n2;
    cin >> n1;

    Term p1[50], p2[50], result[100];

    for (int i = 0; i < n1; i++) {
        cin >> p1[i].coeff >> p1[i].power;
    }

    cin >> n2;
    for (int i = 0; i < n2; i++) {
        cin >> p2[i].coeff >> p2[i].power;
    }

    int i = 0, j = 0, k = 0;

    // Add polynomials
    while (i < n1 && j < n2) {
        if (p1[i].power == p2[j].power) {
            result[k].coeff = p1[i].coeff + p2[j].coeff;
            result[k].power = p1[i].power;
            i++; j++; k++;
        } else if (p1[i].power > p2[j].power) {
            result[k] = p1[i];
            i++; k++;
        } else {
            result[k] = p2[j];
            j++; k++;
        }
    }

    while (i < n1)
        result[k++] = p1[i++];

    while (j < n2)
        result[k++] = p2[j++];

    cout << "Resultant Polynomial: ";

    for (int x = 0; x < k; x++) {
        if (result[x].coeff != 0) {
            cout << result[x].coeff << "x^" << result[x].power;
            if (x != k - 1)
                cout << " + ";
        }
    }

    return 0;
}

/*
Explanation:
- Two polynomials are represented using arrays of structures.
- Each structure contains coefficient and power.
- Polynomials are assumed to be sorted in descending order of power.
- Terms with same powers are added.
- Remaining terms are copied directly.
- The resultant polynomial is displayed in standard form.
*/
